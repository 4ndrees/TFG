<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/InterfazTFG/styles/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <script src="javascript/index.js"></script>
    <title>TFG-IAvsRealidad</title>
</head>
<body>
    <div class="window"></div>
    <div class="window"></div>
    <div class="window"></div>
    <div class="window"></div>
    <div class="window"></div>
    <div class="window"></div>
    <article class="pantalla-principal">
        <ul>
            <li><a href="./index.html">Inicio</a></li>
            <li><a href="./metrics.html">Métricas</a></li>
            <li><a href="./train.html">Entrenamiento</a></li>
            <li><a href="./test.html" class="active">Test</a></li>
        </ul>
        <h1 class="titulo-seccion">Test</h1>
        <h2 class="subtitulo">Selecciona el modelo</h2>
        <section id="model-selection">
            <div>
                <select id="modelos-guardados">
                    <option>AlexNet_19-11-24</option>
                    <option>ResNet_10-10-24</option>
                    <option>VGGNet_10-9-24</option>
                </select>
            </div>
        </section>
        <h2 class="subtitulo">Selecciona una imagen</h2>
        <section id="image-selection">
            <p><label for="fileInput">Selecciona una imagen para determinar si es real o generada por I.A.:</label></p>
            <br>
            <p><input type="file" id="fileInput" accept="image/*" multiple /></p>
        </section>
        <section id="test-start">
            <button id="showImageButton" class="custom-btn btn">Clasificar</button>
        </section>
        <div id="imageContainer"></div>
        <script>
           // Selecciona los elementos del DOM
            const fileInput = document.getElementById('fileInput');
            const showImageButton = document.getElementById('showImageButton');
            const imageContainer = document.getElementById('imageContainer');

            // Agrega el evento al botón
            showImageButton.addEventListener('click', () => {

                const file = fileInput.files[0]; // Obtiene el archivo seleccionado

                if (file) {
                    const reader = new FileReader(); // Crea un FileReader para leer el archivo

                    reader.onload = function(event) {
                        // Crear una imagen y establecer su fuente al resultado de la lectura
                        const img = document.createElement('img');
                        img.src = event.target.result;

                        // Crear un label para la imagen
                        const label = document.createElement('label');
                        label.textContent = `Prediccion: False`;
                        label.style.display = 'block'; // Asegura que aparezca en una nueva línea
                        label.style.marginTop = '10px';
                        label.style.fontSize = '14px';
                        label.style.color = '#333';

                        // Limpia el contenedor y agrega la imagen y el label
                        imageContainer.innerHTML = '';
                        imageContainer.appendChild(img);
                        imageContainer.appendChild(label);
                        imageContainer.classList.add('imageContainer-transform');
                    };

                    reader.readAsDataURL(file); // Lee el archivo como una URL
                } else {
                    alert('Por favor, selecciona un archivo antes de presionar el botón.');
                }
            });
        </script>
    </article>
</body>
</html>